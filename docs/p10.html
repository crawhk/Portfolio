<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 10 - BEES</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Portfolio 10 - BEES</h1>

</div>


<blockquote>
<p>So - fun fact … I am obsessed with bees. Absolutely love them, raised
a couple honey bee colonies for a while… I can give you a lot of nerdy
information that no one needs to know (other than apiarist). BUT, we are
currently facing a national bee crisis - there has been a 60-70% loss of
our bee population. The bees are in their worst state and this has been
the largest loss in recorded history. Hence - I wanted to play around
with this Tidy Tuesday data!</p>
</blockquote>
<pre class="r"><code>library(haven)
library(tidyr)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ purrr     1.0.4
## ✔ forcats   1.0.0     ✔ readr     2.1.5
## ✔ ggplot2   3.5.2     ✔ stringr   1.5.1
## ✔ lubridate 1.9.4     ✔ tibble    3.2.1
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<pre class="r"><code>library(ggplot2)</code></pre>
<pre class="r"><code>tuesdata &lt;- tidytuesdayR::tt_load(&#39;2022-01-11&#39;)</code></pre>
<pre><code>## ---- Compiling #TidyTuesday Information for 2022-01-11 ----
## --- There are 2 files available ---
## 
## 
## ── Downloading files ───────────────────────────────────────────────────────────
## 
##   1 of 2: &quot;colony.csv&quot;
##   2 of 2: &quot;stressor.csv&quot;</code></pre>
<pre class="r"><code>colony &lt;- tuesdata$colony</code></pre>
<pre class="r"><code>stressor &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2022/2022-01-11/stressor.csv&#39;)</code></pre>
<pre><code>## Rows: 7332 Columns: 5
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (3): months, state, stressor
## dbl (2): year, stress_pct
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div id="colony-data" class="section level2">
<h2>Colony Data</h2>
<div id="tracking-colony-losses-over-time" class="section level3">
<h3>Tracking Colony losses over time</h3>
<pre class="r"><code>ggplot(colony, aes(x = as.numeric(year), y = colony_lost)) +
  geom_point() + 
   geom_smooth(method = &quot;loess&quot;, se = FALSE, color = &quot;goldenrod&quot;) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Number of Colonies Lost&quot;,
    title = &quot;Colonies Lost Over Time&quot;
  ) +
  theme_minimal()</code></pre>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 47 rows containing non-finite outside the scale range
## (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Removed 47 rows containing missing values or values outside the scale range
## (`geom_point()`).</code></pre>
<p><img src="p10_files/figure-html/unnamed-chunk-4-1.png" width="672" />
From this data graph it does not appear like tehre are drastic changes
in the number of colonies lost between 2015 and 2021.</p>
</div>
<div id="colony-health-by-state" class="section level3">
<h3>Colony health by state</h3>
<pre class="r"><code>colony_state &lt;- colony %&gt;%  
  group_by(state) %&gt;% 
  summarise(avg_pct_lost = mean (colony_lost_pct, na.rm = TRUE))</code></pre>
<pre class="r"><code>ggplot(colony_state, aes(x = reorder(state, avg_pct_lost), y = avg_pct_lost)) +
  geom_col(fill = &quot;goldenrod&quot;) +
  coord_flip() +
  labs(
    x = &quot;State&quot;,
    y = &quot;Average % Colonies Lost&quot;,
    title = &quot;Average Bee Colony Loss by State&quot;
  ) +
  theme_minimal() +  
  theme(
    axis.text.y = element_text(size = 6, margin = margin(r = 5)),
    plot.title = element_text(hjust = 0.3)
  )</code></pre>
<p><img src="p10_files/figure-html/unnamed-chunk-6-1.png" width="672" />
It looks like Kansas is responsible for the largest percentage of
colonies lost - though this may be attributable to a large bee
population due to the agricultural nature of the state or perhaps the
large amount of pesticides used for said agriculture may be the cause of
the problem…</p>
<p>New Jersey is doing pretty well.</p>
</div>
<div id="seasonal-impact" class="section level3">
<h3>Seasonal Impact</h3>
<pre class="r"><code>colony_month &lt;- colony %&gt;%
  group_by(months) %&gt;%
  summarize(total_colony_lost = sum(colony_lost, na.rm = TRUE))</code></pre>
<pre class="r"><code>ggplot(colony_month, aes(x = months, y = total_colony_lost)) +
  geom_col(fill = &quot;goldenrod&quot;) +
  coord_flip() +
  labs(
    x = &quot;Month&quot;,
    y = &quot;Colonies Lost&quot;,
    title = &quot;Colony Loss by Month&quot;
  ) +
  theme_minimal() </code></pre>
<p><img src="p10_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>It appears that the most colonies are lost in the colder months Oct -
March, as would be expected. There are many reasons colonies do not make
it through the winter including starvation, freezing to death, and
pests. Jan-March is when the most losses are seen.</p>
</div>
<div id="colony-net-change" class="section level3">
<h3>Colony Net Change</h3>
<pre class="r"><code>colony &lt;- colony %&gt;%
  mutate(net_change = colony_added + colony_reno - colony_lost)</code></pre>
<pre class="r"><code>colony_year_net &lt;- colony %&gt;%
  group_by(year) %&gt;%
  summarize(net_change = sum(net_change, na.rm = TRUE))</code></pre>
<pre class="r"><code>ggplot(colony_year_net, aes(x = as.numeric(year), y = net_change)) +
  geom_point() + 
  geom_line(color = &quot;goldenrod&quot;) +
  labs(x = &quot;Year&quot;,
    y = &quot;Net Change in Colonies&quot;,
    title = &quot;Yearly Net Change in Bee Colonies&quot;
  ) +
  theme_minimal()</code></pre>
<p><img src="p10_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Looking at the net change 2017 was a poor year for the bees but 2019
was a pretty good year. From this graph it looks like bee losses have
decreased from 2020 on … however that is far from what we are seeing
now.</p>
</div>
</div>
<div id="stressor-data" class="section level2">
<h2>Stressor Data</h2>
<div id="common-stressors" class="section level3">
<h3>Common Stressors</h3>
<pre class="r"><code>stress_sum &lt;- stressor %&gt;%  
  group_by(stressor) %&gt;% 
  summarize(avg_stress = mean(stress_pct, na.rm = TRUE)) %&gt;% 
  arrange(desc(avg_stress))</code></pre>
<pre class="r"><code>ggplot(stress_sum, aes(x = reorder(stressor, avg_stress), y = avg_stress)) +
  geom_col(fill = &quot;goldenrod&quot;) +
  coord_flip() +
  labs(title = &quot;Average % of Colonies Affected by Stressor&quot;,
       x = &quot;Stressor&quot;, y = &quot;Average % Affected&quot;) +
  theme_minimal()</code></pre>
<p><img src="p10_files/figure-html/unnamed-chunk-13-1.png" width="672" />
Varroa mites are horrible - based on first hand account they cause CCD
(colony collapse disorder) all the time. They are hard to detect, treat,
spread like wild fire, and tear apart hives. Just in case you were
wondering - a lot of bee keepers put bees in powdered sugar to see if
they have mites. I would not be surprised if the mites have become an
increasingly larger issue.</p>
</div>
<div id="stressors-over-time" class="section level3">
<h3>Stressors Over Time</h3>
<pre class="r"><code>stressor$year &lt;- as.numeric(stressor$year)</code></pre>
<pre class="r"><code>ggplot(stressor, aes(x = year, y = stress_pct, color = stressor)) +
  geom_smooth(se = FALSE, method = &quot;loess&quot;) +
  labs(
    title = &quot;Trends in Bee Colony Stressors Over Time&quot;,
    x = &quot;Year&quot;,
    y = &quot;% of Colonies Affected&quot;,
    color = &quot;Stressor&quot;
  ) +
  theme_minimal()</code></pre>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 843 rows containing non-finite outside the scale range
## (`stat_smooth()`).</code></pre>
<p><img src="p10_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Mites. Mites. Mites.</p>
<p>I would be curious to see current data and how it fits into these
trends.</p>
<p>Here is a picture of one of my queens, Beatrice (they are elusive).
The dot you see on her back is paint - queens are marked in accordance
with a color code to know which year they hatched and presumably mated
so you have an estimate of their age.</p>
<p>The queen for my other hive, Bhramari, was very fast and I never got
a picture of her, but she was all black and very pretty.</p>
<p>C:/Users/crawl/OneDrive - Wake Forest
University/GitHub/Portfolio/images/IMG_1470.PNG</p>
<div class="float">
<img src="images/IMG_1470.PNG" alt="Beatrice" />
<div class="figcaption">Beatrice</div>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
