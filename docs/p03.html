<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 3 - Fueling My Titanic Obsession</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Portfolio 3 - Fueling My Titanic
Obsession</h1>

</div>


<blockquote>
<p>The goal of this project is to go through the Titanic lab that I
found online and provide commentary on its usefullness. For next
portfolio piece I hope to create a new lab using the Titanic data set
based on my review of the current project. <a
href="https://medium.com/@datathon/r-for-data-science-data-wrangling-d125285a6876"
class="uri">https://medium.com/@datathon/r-for-data-science-data-wrangling-d125285a6876</a></p>
</blockquote>
<div id="eliminating-early-fluff" class="section level3">
<h3>Eliminating early “fluff”</h3>
<blockquote>
<p>Much of the current lab has information that is unnecessary for where
students are at this point in the semester. For example, the site
includes installing R directions and explains the layout of R. For a
visualization lab for this class, these instructions are
unnessecary.</p>
</blockquote>
</div>
<div id="importing-data" class="section level3">
<h3>Importing Data</h3>
<blockquote>
<p>The clarity of this step could be improved. Here are some new
steps:</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><p>Go to Kaggle Titanic Dataset - there are a lot of datasets on
titanic out there, however the lab was not clear which was being used…
so i believe this is the best match <a
href="https://www.kaggle.com/datasets/ibooth1/titanic3"
class="uri">https://www.kaggle.com/datasets/ibooth1/titanic3</a></p></li>
<li><p>Download the dataset in the format you would like, I did excel
csv</p></li>
<li><p>Extract the data set to your portfolio folder</p></li>
<li><p>Install/load packages</p></li>
</ol>
<pre class="r"><code>library(tidyr)
library(readxl)
library(Rcpp) # needed to load Amelia
library(Amelia) # package for missing data/imputation</code></pre>
<pre><code>## ## 
## ## Amelia II: Multiple Imputation
## ## (Version 1.8.3, built: 2024-11-07)
## ## Copyright (C) 2005-2025 James Honaker, Gary King and Matthew Blackwell
## ## Refer to http://gking.harvard.edu/amelia/ for more information
## ##</code></pre>
<pre class="r"><code>library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Read in data</li>
</ol>
<pre class="r"><code>library(readxl)
titanic &lt;- read_xls(&quot;titanic3.xls&quot;)</code></pre>
<pre><code>## Warning: Coercing text to numeric in M1306 / R1306C13: &#39;328&#39;</code></pre>
</div>
<div id="exploring-and-cleaning-dataset" class="section level3">
<h3>Exploring and cleaning dataset</h3>
<pre class="r"><code>str(titanic)</code></pre>
<pre><code>## tibble [1,309 × 14] (S3: tbl_df/tbl/data.frame)
##  $ pclass   : num [1:1309] 1 1 1 1 1 1 1 1 1 1 ...
##  $ survived : num [1:1309] 1 1 0 0 0 1 1 0 1 0 ...
##  $ name     : chr [1:1309] &quot;Allen, Miss. Elisabeth Walton&quot; &quot;Allison, Master. Hudson Trevor&quot; &quot;Allison, Miss. Helen Loraine&quot; &quot;Allison, Mr. Hudson Joshua Creighton&quot; ...
##  $ sex      : chr [1:1309] &quot;female&quot; &quot;male&quot; &quot;female&quot; &quot;male&quot; ...
##  $ age      : num [1:1309] 29 0.917 2 30 25 ...
##  $ sibsp    : num [1:1309] 0 1 1 1 1 0 1 0 2 0 ...
##  $ parch    : num [1:1309] 0 2 2 2 2 0 0 0 0 0 ...
##  $ ticket   : chr [1:1309] &quot;24160&quot; &quot;113781&quot; &quot;113781&quot; &quot;113781&quot; ...
##  $ fare     : num [1:1309] 211 152 152 152 152 ...
##  $ cabin    : chr [1:1309] &quot;B5&quot; &quot;C22 C26&quot; &quot;C22 C26&quot; &quot;C22 C26&quot; ...
##  $ embarked : chr [1:1309] &quot;S&quot; &quot;S&quot; &quot;S&quot; &quot;S&quot; ...
##  $ boat     : chr [1:1309] &quot;2&quot; &quot;11&quot; NA NA ...
##  $ body     : num [1:1309] NA NA NA 135 NA NA NA NA NA 22 ...
##  $ home.dest: chr [1:1309] &quot;St Louis, MO&quot; &quot;Montreal, PQ / Chesterville, ON&quot; &quot;Montreal, PQ / Chesterville, ON&quot; &quot;Montreal, PQ / Chesterville, ON&quot; ...</code></pre>
<pre class="r"><code>as_tibble(titanic)</code></pre>
<pre><code>## # A tibble: 1,309 × 14
##    pclass survived name     sex      age sibsp parch ticket  fare cabin embarked
##     &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
##  1      1        1 Allen, … fema… 29         0     0 24160  211.  B5    S       
##  2      1        1 Allison… male   0.917     1     2 113781 152.  C22 … S       
##  3      1        0 Allison… fema…  2         1     2 113781 152.  C22 … S       
##  4      1        0 Allison… male  30         1     2 113781 152.  C22 … S       
##  5      1        0 Allison… fema… 25         1     2 113781 152.  C22 … S       
##  6      1        1 Anderso… male  48         0     0 19952   26.6 E12   S       
##  7      1        1 Andrews… fema… 63         1     0 13502   78.0 D7    S       
##  8      1        0 Andrews… male  39         0     0 112050   0   A36   S       
##  9      1        1 Appleto… fema… 53         2     0 11769   51.5 C101  S       
## 10      1        0 Artagav… male  71         0     0 PC 17…  49.5 &lt;NA&gt;  C       
## # ℹ 1,299 more rows
## # ℹ 3 more variables: boat &lt;chr&gt;, body &lt;dbl&gt;, home.dest &lt;chr&gt;</code></pre>
<div id="checking-for-missing-values" class="section level4">
<h4>Checking for missing values</h4>
<pre class="r"><code>missmap(titanic, col = c(&quot;red&quot;, &quot;green&quot;))</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `arguments`.
## Unknown or uninitialised column: `arguments`.</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `imputations`.</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-5-1.png" width="672" />
21% of data is missing</p>
<pre class="r"><code>#Select relevant columns for the analysis
selected_titanic &lt;- titanic %&gt;%
  select(age, pclass, sex, survived, embarked, fare, cabin, parch, sibsp, home.dest)</code></pre>
<p>Reassess missing map</p>
<pre class="r"><code>missmap(selected_titanic, col = c(&quot;red&quot;, &quot;green&quot;))</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `arguments`.
## Unknown or uninitialised column: `arguments`.</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `imputations`.</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-7-1.png" width="672" />
Missing is now 11%</p>
<pre class="r"><code>#Drop all the missing values
selected_titanic &lt;- drop_na(selected_titanic)</code></pre>
<pre class="r"><code>missmap(selected_titanic, col = c(&quot;red&quot;, &quot;green&quot;))</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `arguments`.
## Unknown or uninitialised column: `arguments`.</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `imputations`.</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>as_tibble(selected_titanic)</code></pre>
<pre><code>## # A tibble: 239 × 10
##       age pclass sex    survived embarked  fare cabin   parch sibsp home.dest   
##     &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       
##  1 29          1 female        1 S        211.  B5          0     0 St Louis, MO
##  2  0.917      1 male          1 S        152.  C22 C26     2     1 Montreal, P…
##  3  2          1 female        0 S        152.  C22 C26     2     1 Montreal, P…
##  4 30          1 male          0 S        152.  C22 C26     2     1 Montreal, P…
##  5 25          1 female        0 S        152.  C22 C26     2     1 Montreal, P…
##  6 48          1 male          1 S         26.6 E12         0     0 New York, NY
##  7 63          1 female        1 S         78.0 D7          0     1 Hudson, NY  
##  8 39          1 male          0 S          0   A36         0     0 Belfast, NI 
##  9 53          1 female        1 S         51.5 C101        0     2 Bayside, Qu…
## 10 47          1 male          0 C        228.  C62 C64     0     1 New York, NY
## # ℹ 229 more rows</code></pre>
<pre class="r"><code>#merge columns parch and sibsp to create a new column, FamilySize
selected_titanic$FamilySize &lt;- selected_titanic$sibsp
 + selected_titanic$parch + 1</code></pre>
<pre><code>##   [1] 1 3 3 3 3 1 1 1 1 1 1 1 1 2 2 1 2 2 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 2 2
##  [38] 1 3 3 3 3 1 1 1 1 1 1 1 1 1 1 1 2 2 3 1 2 3 2 1 1 1 1 3 1 1 2 3 2 1 2 1 1
##  [75] 1 1 2 1 1 1 1 1 3 3 3 3 5 5 1 3 2 2 1 1 1 1 1 1 1 2 2 2 2 1 1 1 1 1 1 1 1
## [112] 2 2 1 1 2 2 1 1 1 1 1 1 1 1 1 1 1 2 2 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 2 1
## [149] 1 3 3 2 2 1 1 1 1 1 1 1 1 1 2 2 1 1 1 1 3 3 3 4 4 1 1 1 1 1 1 1 1 1 1 1 1
## [186] 3 2 2 1 1 1 1 1 1 1 1 1 1 3 2 2 1 2 3 2 1 1 1 1 1 2 2 1 3 2 3 2 1 1 2 2 2
## [223] 4 1 1 1 1 1 1 1 2 2 3 1 1 1 1 1 1</code></pre>
<pre class="r"><code>#Categorize the fare column and assign label to each category
selected_titanic$FareCategory &lt;- cut(selected_titanic$fare, breaks = c(0, 10, 20, 50, 100, Inf), labels = c(&quot;Lowest&quot;, &quot;Lower Middle&quot;, &quot;Upper Middle&quot;, &quot;Higher&quot;, &quot;Highest&quot;))</code></pre>
<pre class="r"><code>View(selected_titanic)</code></pre>
<pre class="r"><code>#Remove irrelevant columns
selected_titanic &lt;- selected_titanic %&gt;% 
  select(-fare, -parch, -sibsp)</code></pre>
<pre class="r"><code>#Change the values of columns survived, age, and pclass

selected_titanic &lt;- selected_titanic %&gt;%
  mutate(
    survived = ifelse(survived == 0, &quot;No&quot;, &quot;Yes&quot;),

    age = ifelse(age &gt;= 18, &quot;Adult&quot;, &quot;Child&quot;),

    pclass = case_when(
      pclass == 1 ~ &quot;Upper&quot;,
      pclass == 2 ~ &quot;Middle&quot;,
      pclass == 3 ~ &quot;Lower&quot;
    )
  )</code></pre>
<pre class="r"><code>#Change the name of columns
selected_titanic &lt;- selected_titanic %&gt;% 
  rename(
    Class = pclass,
    Survived = survived,
    Age = age
  )</code></pre>
</div>
</div>
<div id="visualizing-and-revealing-patterns-and-insights"
class="section level3">
<h3>Visualizing and revealing patterns and insights</h3>
<div id="fare-categories" class="section level4">
<h4>Fare Categories</h4>
<pre class="r"><code>#Create a table object fare_count
fare_count &lt;- table(selected_titanic$FareCategory)
print(fare_count)</code></pre>
<pre><code>## 
##       Lowest Lower Middle Upper Middle       Higher      Highest 
##            2           13           67           97           58</code></pre>
<p>**Note: the website has a tibble of 270 rows, however reports 681 in
their frequency counts…</p>
<pre class="r"><code>library(ggplot2)
# Create summary data frame of counts and percentage of
# fare category from the selected titanic
summary_fare &lt;- selected_titanic %&gt;%
  group_by(FareCategory)%&gt;%
  summarize(n = n())%&gt;%
  mutate(Fpercentage = n/sum(n) * 100)

# Create pie chart using the summary data frame
ggplot(summary_fare, aes(x = &quot; &quot;, y = n, fill = FareCategory))+
  geom_bar(stat = &quot;identity&quot;, width = 1, color = &quot;white&quot;)+
  coord_polar(theta = &quot;y&quot;)+
  theme_void()+
  labs(&quot;Fare Distribution in Titanic Dataset&quot;, fill = &quot;Fare Category&quot;)+
  geom_text(aes(label = paste0(round(Fpercentage, 2), &quot;%&quot;)),
                   position = position_stack(vjust = 0.5), color = &quot;white&quot;)</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-17-1.png" width="672" />
** Note: not particularly fond of the pie charts</p>
</div>
<div id="looking-at-gender-distribution" class="section level4">
<h4>Looking at gender distribution</h4>
<pre class="r"><code>gender_count &lt;- table(selected_titanic$sex)
print(gender_count)</code></pre>
<pre><code>## 
## female   male 
##    113    126</code></pre>
<pre class="r"><code>summary_gender &lt;- selected_titanic %&gt;%
  group_by(sex) %&gt;%
  summarize(n = n()) %&gt;%
  mutate(Gpercentage = n / sum(n) * 100)

ggplot(summary_gender, aes(x = &quot;&quot;, y = n, fill = sex)) +
  geom_bar(stat = &quot;identity&quot;, width = 1, color = &quot;white&quot;) +
  coord_polar(theta = &quot;y&quot;) +
  theme_void() +
  labs(title = &quot;Gender Distribution in Titanic Dataset&quot;, fill = &quot;Gender&quot;) +
  geom_text(aes(label = paste0(round(Gpercentage, 2), &quot;%&quot;)),
            position = position_stack(vjust = 0.5), color = &quot;white&quot;)</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="age-distribution" class="section level4">
<h4>Age distribution</h4>
<pre class="r"><code># Create a table of counts object for the Age column from the selected_titanic
# data frame
age_count &lt;- table(selected_titanic$Age)

# Visualize the Age Distribution using pie function instead of ggplot2 library
pie(age_count, main = &quot;Age Distribution in Titanic Dataset&quot;, 
    labels = paste(round(age_count/sum(age_count) * 100, 2), &quot;%&quot;, sep = &quot;&quot;), 
    col = rainbow(length(age_count)))

# Add legend with age groups
legend(&quot;topright&quot;, names(age_count), cex = 0.8, 
       fill = rainbow(length(age_count)))</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="port-of-embarkation-distribution" class="section level4">
<h4>Port of embarkation distribution</h4>
<pre class="r"><code># Create a bar chart visualizing the Embarked column using functions from 
# the ggplot2 library

ggplot(selected_titanic, aes(x = embarked, fill = embarked)) +
  geom_bar() +
  theme_classic() +
  labs(x = &quot;Port of Embarkation&quot;, y = &quot;Number of Passengers&quot;,
       title = &quot;Port of Embarkation Distribution in Titanic Dataset&quot;)</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
<div id="ticket-class-distribution" class="section level4">
<h4>Ticket class distribution</h4>
<pre class="r"><code># Create a table of counts object for the Class column 
class_count &lt;- table(selected_titanic$Class)

# Visualize the Age Distribution using pie function instead of ggplot2 library
 barplot(class_count,
    main = &quot;Passengers&#39; Ticket Class Distribution in Titanic Dataset&quot;, 
    xlab = &quot;Ticket Class&quot;, 
    ylab = &quot;Number of Passengers&quot;, 
    col = &quot;skyblue&quot;)</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="destination-distribution" class="section level4">
<h4>Destination distribution</h4>
<pre class="r"><code>summary_destination &lt;- selected_titanic %&gt;%
    group_by(home.dest) %&gt;%
    summarise(count = n()) %&gt;%
    arrange(desc(count)) %&gt;%
    head(10)

# Convert home.dest to a factor for better plotting
summary_destination$home.dest &lt;- factor(summary_destination$home.dest, levels = summary_destination$home.dest)

# Create a heatmap
ggplot(summary_destination, aes(x = home.dest, y = count, fill = count)) +
  geom_tile() +
  labs(title = &quot;Top 10 Destination Distribution of Passengers in Titanic Dataset&quot;, 
       x = &quot;Destination&quot;, y = &quot;Number of Passengers&quot;) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="survival-rate-distribution" class="section level4">
<h4>Survival rate distribution</h4>
<pre class="r"><code># Create a summary data frame object for the Survived column
summary_survived &lt;- selected_titanic %&gt;%
  group_by(Survived) %&gt;%
  summarise(n = n(), .groups = &quot;drop&quot;) %&gt;%
  mutate(Spercentage = n / sum(n) * 100)

# Create a pie chart using ggplot2 library
ggplot(summary_survived, aes(x = &quot;&quot;, y = n, fill = factor(Survived))) +
  geom_bar(stat = &quot;identity&quot;, width = 1, color = &quot;white&quot;) +
  coord_polar(theta = &quot;y&quot;) +
  theme_void() +
  labs(title = &quot;Survival Distribution in Titanic Dataset&quot;, fill = &quot;Survived&quot;) +
  geom_text(aes(label = paste0(round(Spercentage, 2), &quot;%&quot;)), 
            position = position_stack(vjust = 0.5), color = &quot;white&quot;) +
  scale_fill_manual(values = c(&quot;0&quot; = &quot;red&quot;, &quot;1&quot; = &quot;darkgreen&quot;), 
                    labels = c(&quot;Did Not Survive&quot;, &quot;Survived&quot;))</code></pre>
<pre><code>## Warning: No shared levels found between `names(values)` of the manual scale and the
## data&#39;s fill values.
## No shared levels found between `names(values)` of the manual scale and the
## data&#39;s fill values.
## No shared levels found between `names(values)` of the manual scale and the
## data&#39;s fill values.</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
</div>
<div id="univariate-analyses" class="section level3">
<h3>Univariate Analyses</h3>
<div id="survival-rate-by-category" class="section level4">
<h4>Survival rate by category</h4>
<pre class="r"><code># Bin the fare values into categories
selected_titanic &lt;- titanic %&gt;%
  mutate(FareCategory = cut(fare, 
                             breaks = c(-1, 10, 30, 100, Inf), 
                             labels = c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;, &quot;Very High&quot;)))

# Create a summary dataframe object
summary_sf &lt;- selected_titanic %&gt;%
  group_by(FareCategory, survived) %&gt;%
  summarise(survival_rate = n(), .groups = &quot;drop&quot;) %&gt;%
  mutate(sfPercentage = survival_rate / sum(survival_rate) * 100)

# Create the plot using the summary data frame
ggplot(summary_sf, aes(x = FareCategory, y = sfPercentage, fill = factor(survived))) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  labs(title = &quot;Survival Rate by Fare Category in Titanic Dataset&quot;, 
       x = &quot;Fare Category&quot;, y = &quot;Survival Rate (%)&quot;) +
  scale_fill_manual(values = c(&quot;0&quot; = &quot;red&quot;, &quot;1&quot; = &quot;darkgreen&quot;), 
                    labels = c(&quot;Did Not Survive&quot;, &quot;Survived&quot;)) +
  theme_minimal()</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<pre class="r"><code># Create a summary dataframe object
summary_sg &lt;- selected_titanic %&gt;%
  group_by(sex, survived) %&gt;%
  summarise(count = n(), .groups = &quot;drop&quot;) %&gt;%  # Fixing the grouping issue
  mutate(sgPercentage = count / sum(count) * 100)  # Ensuring percentages are correctly calculated

# Create the plot
ggplot(summary_sg, aes(x = sex, y = sgPercentage, fill = factor(survived))) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;stack&quot;) +
  labs(title = &quot;Survival Rate by Gender in Titanic Dataset&quot;, 
       x = &quot;Gender&quot;, y = &quot;Survival Rate (%)&quot;) +
  theme_classic() +
  scale_fill_manual(values = c(&quot;0&quot; = &quot;red&quot;, &quot;1&quot; = &quot;darkgreen&quot;), 
                    labels = c(&quot;Did Not Survive&quot;, &quot;Survived&quot;))</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
<div id="survival-rate-by-age" class="section level4">
<h4>Survival rate by age</h4>
<pre class="r"><code># Bin the Age variable into categories
selected_titanic &lt;- selected_titanic %&gt;%
  mutate(age_group = cut(age, 
                         breaks = c(-Inf, 18, 35, 60, Inf), 
                         labels = c(&quot;Child&quot;, &quot;Young Adult&quot;, &quot;Adult&quot;, &quot;Elderly&quot;)))

# Create a summary dataframe object
summary_sa &lt;- selected_titanic %&gt;%
  group_by(age_group, survived) %&gt;%
  summarise(count = n(), .groups = &quot;drop&quot;) %&gt;%
  mutate(saPercentage = count / sum(count) * 100)

# Create the plot
ggplot(summary_sa, aes(x = age_group, y = saPercentage, fill = factor(survived))) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  labs(title = &quot;Survival Rate by Age in Titanic Dataset&quot;,
       x = &quot;Age Group&quot;, y = &quot;Survival Rate (%)&quot;, fill = &quot;Survived&quot;) +
  theme_classic() +
  scale_fill_manual(values = c(&quot;0&quot; = &quot;red&quot;, &quot;1&quot; = &quot;darkgreen&quot;),
                    labels = c(&quot;Did Not Survive&quot;, &quot;Survived&quot;))</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
<div id="survival-rate-by-class" class="section level4">
<h4>Survival rate by class</h4>
<pre class="r"><code> summary_sc &lt;- selected_titanic %&gt;%
  group_by (pclass, survived) %&gt;%
  summarise(count = n())%&gt;%
  mutate(scPercentage = count/sum(count) * 100)</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;pclass&#39;. You can override using the
## `.groups` argument.</code></pre>
<pre class="r"><code>ggplot(summary_sc, aes (x = pclass, y = scPercentage, fill = survived)) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;stack&quot;) +
  labs(title = &quot;Survival Rate by Ticket Class in Titanic Dataset&quot;,
           x = &quot;Ticket Class&quot;, y = &quot;Survival Rate (%)&quot;)+
  theme_minimal()</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
<div id="survival-rate-by-deportation-port" class="section level4">
<h4>Survival rate by deportation port</h4>
<pre class="r"><code># Create the summary dataframe
summary_sp &lt;- selected_titanic %&gt;%
  group_by(embarked, survived) %&gt;%
  summarise(count = n(), .groups = &quot;drop&quot;) %&gt;%
  mutate(spPercentage = count / sum(count) * 100)

# Create the plot
ggplot(summary_sp, aes(x = embarked, y = spPercentage, fill = factor(survived))) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
  labs(title = &quot;Survival Rate by Port of Embarkation in Titanic Dataset&quot;, 
       x = &quot;Port of Embarkation&quot;, y = &quot;Survival Rate (%)&quot;) +
  theme_classic() +
  scale_fill_manual(values = c(&quot;0&quot; = &quot;red&quot;, &quot;1&quot; = &quot;darkgreen&quot;), 
                    labels = c(&quot;Did Not Survive&quot;, &quot;Survived&quot;))</code></pre>
<p><img src="p03_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
</div>
</div>
<div id="commentary" class="section level3">
<h3>Commentary</h3>
<p>Overall, I enjoyed working through this lab as I found the topic to
peak my interest. However, for the purposes of our class I believe that
there are quite a few changes that could be made.</p>
<ol style="list-style-type: decimal">
<li><p>There was a lot of debugging that I had to do with the code
provided. Much of this was for minor things such as sloppy
capitalization, functions not working, etc. However, this could be very
frustrating especially if it is used as an early lab and students are
not well versed in debugging quite yet.</p></li>
<li><p>There was a lot of text that needed to be paraphrased/cut
out.</p></li>
<li><p>This lab seemed to go on forever, and it would have benefited
from clear/delineated steps.</p></li>
<li><p>There was an over reliance on pie charts, which as we have
learned are not the best for presenting data.</p></li>
<li><p>It was oddly difficult to find the dataset that was being used -
no link given, vague instructions… took much longer than needed</p></li>
<li><p>Better context could have been required for the steps, also there
were some functions that were just given without proper
activity</p></li>
<li><p>Lab could have been a bit more hands on, I genuinely felt like I
was just copy and pasting code/didn’t write a single thing</p></li>
<li><p>There appear to be some errors with the number of people left in
the dataset/something isn’t adding up see notes on counts above</p></li>
</ol>
<p>For the next portfolio piece, my aim is to create a lab that would
fit into the visualization portion of our class more fluidly, and
improve some the areas above. :)</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
